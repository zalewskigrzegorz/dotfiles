[metadata]
name = "nx"
description = "Select Nx commands to run"

[source]
command = "bash -c 'export PATH=\"$HOME/.asdf/shims:$HOME/Library/pnpm:$PATH\" && for project in $(pnpm nx show projects | head -20); do for target in $(pnpm nx show project $project --json 2>/dev/null | jq -r \".targets | keys[]\" 2>/dev/null | head -5); do echo \"run $project:$target\"; done; done 2>/dev/null'"

[preview]
command = "echo 'pnpm nx {}'"
