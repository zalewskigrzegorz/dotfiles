[metadata]
name = "pnpm"
description = "Select pnpm scripts from package.json"
requirements = ["jq"]

[source]
command = "bash -c 'export PATH=\"$HOME/.asdf/shims:$HOME/Library/pnpm:$PATH\" && if [ -f package.json ]; then cat package.json | jq -r \"if .scripts then .scripts | keys[] else empty end\" 2>/dev/null; fi'"

[preview]
command = "bash -c 'export PATH=\"$HOME/.asdf/shims:$HOME/Library/pnpm:$PATH\" && if [ -f package.json ]; then cat package.json | jq -r \".scripts.\\\"{}\\\" // \\\"No script found\\\"\" 2>/dev/null; else echo \"No package.json found\"; fi'" 